<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .ludo {
            transition: 2s;
            width: 610px;
            height: 610px;
            border: 1px solid crimson;
            display: grid;
            grid-template-rows: 6fr 3fr 6fr;
            gap: 1px;
        }
        
        .gridsub {
            background-color: black;
            display: grid;
            gap: 1px;
        }
        
        .color_box {
            grid-template-columns: 6fr 3fr 6fr;
        }
        
        .box {
            background-color: rgba(194, 105, 105, 0.712);
        }
        
        .rbox {
            background-color: #a70000;
        }
        
        .gbox {
            background-color: #025002;
        }
        
        .ybox {
            background-color: #b7b709;
        }
        
        .bbox {
            background-color: #05059f;
        }
        
        .rg_sub_sub_box,
        .by_sub_sub_box {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(6, 1fr);
            gap: 1px;
            grid-auto-flow: column;
        }
        
        .sub_box {
            background-color: white;
            display: flex;
            justify-content: center;
            height: 40px;
            width: 40px;
            flex-direction: column;
            align-items: center;
        }
        
        .stop_goti_box {
            background-image: url(img/stop.png);
            background-size: contain;
            background-repeat: no-repeat;
        }
        
        .gsecond {
            grid-template-columns: repeat(6, 1fr) 3fr repeat(6, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }
        
        .winnerBox {
            grid-row: 1 /span 3;
            height: 100%;
            width: 100%;
            grid-column: 7;
            background-color: #bbac0040;
            background-image: url(img/winner.png);
            background-size: contain;
            background-repeat: no-repeat;
        }
        
        .goti {
            background-color: white;
            border: 0.2 solid white;
            border-radius: 50%;
            border: 3px solid black;
            width: 40px;
            margin: 37px;
            align-items: center;
            display: flex;
            justify-content: center;
            height: 40px;
        }
        
        .goti_set {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .bmap {
            background-color: #05059f;
            color: #05059f;
        }
        
        .rmap {
            background-color: #a70000;
            color: #a70000;
        }
        
        .gmap {
            background-color: #025002;
            color: #025002;
        }
        
        .ymap {
            background-color: #b7b709;
            color: #b7b709;
        }
        
        .sub_box img {
            position: absolute;
            height: 30px;
            width: 30px;
            border: 1px solid black;
            border-radius: 50%;
        }
        
        body {
            background-image: url("img/bg.jpeg");
            background-repeat: no-repeat;
            background-size: cover;
        }
        
        .goti img {
            width: 37px;
            height: 37px;
        }
        
        .dices {
            color: #03c3ff;
            text-align: center;
            display: flex;
            flex-direction: column;
            position: absolute;
            justify-content: space-evenly;
            width: 60px;
            height: 340px;
        }
        
        .dice {
            width: 50px;
            height: 30px;
            background-color: red;
            border: 1px solid black;
        }
        
        .ydice {
            background-color: yellow;
        }
        
        .bdice {
            background-color: blue;
        }
        
        .gdice {
            background-color: green;
        }
        
        #show_dice_num {
            font-size: 40px;
            background: white;
            width: 45px;
            height: 45px;
            margin: 40px;
            border-radius: 50%;
            display: none;
            position: absolute;
            top: 27%;
            left: 100%;
        }
        
        .active_goti_after_open {
            border: 5px solid black !important;
        }
    </style>
</head>

<body>
    <div class="dices">

        <div class="rdice dice">red</div>
        <div class="gdice dice">green</div>
        <div class="bdice dice">blue</div>
        <div class="ydice dice">yellow</div>
        <div id="show_dice_num"></div>

    </div>
    <center>



        <div class="ludo">
            <div class="gfirst gridsub color_box">
                <div class="box  rbox goti_set">
                    <div class="goti"><img class="rgotiimg close_goti" src="img/rgoti.png" alt=""></div>
                    <div class="goti"><img class="rgotiimg close_goti" src="img/rgoti.png" alt=""></div>
                    <div class="goti"><img class="rgotiimg close_goti" src="img/rgoti.png" alt=""></div>
                    <div class="goti"><img class="rgotiimg close_goti" src="img/rgoti.png" alt=""></div>

                </div>
                <div class="box  rg_sub_sub_box">
                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box stop_goti_box"></div>
                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box"></div>
                    <!-- green map start -->
                    <div class="sub_box gmap">2</div>
                    <div class="sub_box gmap">3</div>
                    <div class="sub_box gmap">4</div>
                    <div class="sub_box gmap">5</div>
                    <div class="sub_box gmap">6</div>
                    <!-- green map end -->

                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box stop_goti_box" style="background-color: green;"></div>
                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box"></div>
                    <div class="sub_box run_goti_box"></div>



                </div>
                <div class="box gbox goti_set">
                    <div class="goti"><img class="ggotiimg close_goti" src="img/ggoti.png" alt=""></div>
                    <div class="goti"><img class="ggotiimg close_goti" src="img/ggoti.png" alt=""></div>
                    <div class="goti"><img class="ggotiimg close_goti" src="img/ggoti.png" alt=""></div>
                    <div class="goti"><img class="ggotiimg close_goti" src="img/ggoti.png" alt=""></div>


                </div>

            </div>
            <div class="gsecond gridsub">
                <div class="sub_box run_goti_box"></div>
                <div class="sub_box run_goti_box stop_goti_box" style="background-color: red;">

                </div>
                <div class="sub_box run_goti_box"></div>
                <div class="sub_box run_goti_box"></div>
                <div class="sub_box run_goti_box"></div>
                <div class="sub_box run_goti_box"></div>
                <div class="sub_box run_goti_box"></div>
                <div class="sub_box run_goti_box"></div>
                <div class="sub_box run_goti_box"></div>
                <div class="sub_box run_goti_box stop_goti_box" "></div>
        <div class=" sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <!-- red map start -->
        <div class="sub_box rmap ">1</div>
        <div class="sub_box rmap ">2</div>
        <div class="sub_box rmap ">3</div>
        <div class="sub_box rmap ">4</div>
        <div class="sub_box rmap ">5</div>
        <!-- yellow map start -->

        <div class="sub_box ymap ">6</div>
        <div class="sub_box ymap ">7</div>
        <div class="sub_box ymap ">8</div>
        <div class="sub_box ymap ">9</div>
        <div class="sub_box ymap ">10</div>

        <!-- yellow map end -->
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box stop_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box "></div>
        <div class="sub_box run_goti_box stop_goti_box " style="background-color: #b7b709; "></div>
        <div class="sub_box winnerBox ">


        </div>
        <div class="sub_box run_goti_box "></div>


      </div>
      <div class="gthird gridsub color_box ">
        <div class="box bbox goti_set ">
          <div class="goti "><img class="bgotiimg close_goti " src="img/bgoti.png " alt=" " aria-disabled="false "></div>
          <div class="goti "><img class="bgotiimg close_goti " src="img/bgoti.png " alt=" "></div>
          <div class="goti "><img class="bgotiimg close_goti " src="img/bgoti.png " alt=" "></div>
          <div class="goti "><img class="bgotiimg close_goti " src="img/bgoti.png " alt=" "></div>

        </div>
        <div class="box by_sub_sub_box ">
          <div class="sub_box run_goti_box "></div>
          <div class="sub_box run_goti_box "></div>
          <div class="sub_box run_goti_box "></div>
          <div class="sub_box run_goti_box "></div>
          <div class="sub_box run_goti_box stop_goti_box " style="background-color: blue; "></div>
          <div class="sub_box run_goti_box "></div>


          <!-- blue map start  -->
          <div class="sub_box bmap ">1</div>
          <div class="sub_box bmap ">2</div>
          <div class="sub_box bmap ">3</div>
          <div class="sub_box bmap ">4</div>
          <div class="sub_box bmap ">5</div>
          <!-- blue map end  -->


          <div class="sub_box run_goti_box "></div>
          <div class="sub_box run_goti_box "></div>
          <div class="sub_box run_goti_box "></div>
          <div class="sub_box run_goti_box "></div>
          <div class="sub_box run_goti_box stop_goti_box "></div>
          <div class="sub_box run_goti_box "></div>

          <div class="sub_box run_goti_box "></div>




        </div>
        <div class="box ybox goti_set ">
          <div class="goti "><img class="ygotiimg close_goti " src="img/ygoti.png " alt=" "></div>
          <div class="goti "><img class="ygotiimg close_goti " src="img/ygoti.png " alt=" "></div>
          <div class="goti "><img class="ygotiimg close_goti " src="img/ygoti.png " alt=" "></div>
          <div class="goti "><img class="ygotiimg close_goti " src="img/ygoti.png " alt=" "></div>


        </div>

      </div>


    </div>

  </center>

</body>

<script>

  let run_goti_box = document.getElementsByClassName('run_goti_box')
  let bgotiimg = document.getElementsByClassName('bgotiimg')
  let rgotiimg = document.getElementsByClassName('rgotiimg')
  let ygotiimg = document.getElementsByClassName('ygotiimg')
  let dice_turn = document.getElementsByClassName('dice')
  let ggotiimg = document.getElementsByClassName('ggotiimg')
  let bbox = document.getElementsByClassName('bbox')
  let goti_set = document.getElementsByClassName('goti_set')
  let show_dice_num = document.getElementById('show_dice_num')
  let sub_box = document.getElementsByClassName('sub_box')
  let start_goti_point = document.getElementsByClassName('start_goti_point')
  let stop_goti_box = document.getElementsByClassName('stop_goti_box')
  // console.log(start_goti_point)



  function Dice() {

    return Math.ceil(Math.random() * 10) % 6 + 1;


  }
  function goti_active(attr) {


    attr.style.border = "5px solid #ab00c9 ";
    attr.style.borderRadius = "50% ";



  }
  function goti_deactive(attr) {


    attr.style.border = "none ";
    attr.style.borderRadius = "none ";


  }
  // variables and array define here 

  let arr = [43, 42, 41, 40, 39, 32, 31, 30, 29, 28, 27, 25, 13, 14, 15, 16, 17, 18, 5, 4, 3, 2, 1, 0, 6, 7, 8, 9, 10, 11, 12, 19, 20, 21, 21, 22, 23, 24, 26, 38, 37, 36, 35, 34, 33, 46, 47, 48, 49, 50, 51, 45, 44]
  let selectColor = {

13: "rgoti.png ",
26: "ggoti.png ",
40: "ygoti.png ",
0: "bgoti.png ",
}
let selectClassColor = {

13: "rplayermove ",
26: "gplayermove ",
40: "yplayermove ",
0: "bplayermove ",
}



  for (let i = 0; i < sub_box.length; i++) {

    //  run_goti_box[arr[i]].innerHTML=i




  }
  function move_goti(player_start_pos,dice_res) {
    // here code for move goti with respect to dice  
    k = 1
    var DOM_img = document.createElement("img ");
    DOM_img.src = `img/${selectColor[player_start_pos]}`;
    DOM_img.className = `start_goti_point ${selectClassColor[player_start_pos]}`
    let ab = setInterval(() => {
      run_goti_box[arr[player_start_pos + k]].appendChild(DOM_img);
      // console.log(k, step_move_goti)
      // console.log(start_goti_point[0].classList[1])
      if (k == step_move_goti) {
        clearInterval(ab)
      }
      k++

    }, 250);

  }



  function open_player_goti(value, player_color, player_start_pos) {

    let dice = 6

   
    
    for (let l = 0; l < start_goti_point.length; l++) {
      if (start_goti_point[l].classList[1] == selectClassColor[player_start_pos]) {

        goti_active(start_goti_point[l])
        start_goti_point[l].addEventListener('click', (e) => {

          console.log(e.target.remove())

          move_goti(player_start_pos,dice)
          console.log("first ")

          //start code here this for loop for all same color   goti deactivate***************

          for (let index = 0; index < start_goti_point.length; index++) {

            goti_deactive(start_goti_point[index])

          }

          for (let index = 0; index < player_color.length; index++) {

            goti_deactive(player_color[index])
          }
          //end code here this for loop for all same color   goti deactivate***************


        })

      }

    }





    // here show the result of dice 
    show_dice_num.innerHTML = dice
    show_dice_num.style.display = "block "
    // open goti also activating here   



    // for open img or goti 
    if (dice == 6) {

      step_move_goti = dice
      for (let index = 0; index < player_color.length; index++) {
        // console.log(player_color[0].classList[0])
        goti_active(player_color[index])
      }

      // here trying to open goti


      goti_set[value].addEventListener('click', (e) => {

        if (e.target.classList[1] == "close_goti " && dice == 6) {

          // e.target.classList.remove("close_goti ");
          e.target.style.display = "none ";





          // here   open goti and set img  in stop box
          var DOM_img = document.createElement("img ");
          DOM_img.src = `img/${selectColor[player_start_pos]}`;
          DOM_img.className = `start_goti_point ${selectClassColor[player_start_pos]}`
          run_goti_box[arr[player_start_pos]].appendChild(DOM_img);

          for (let index = 0; index < stop_goti_box.length; index++) {

            // here img or goti position set  
            if (stop_goti_box[index].children.length > 1) {
              for (let i = 0; i < stop_goti_box[index].children.length; i++) {

                // console.log(stop_goti_box[index].children[i].style.marginLeft = `${3 * i}px`)

              }
              stop_goti_box[index].style.justifyContent = "start "
              stop_goti_box[index].style.alignItems = "start "

            }
          }
        }
        //start code here this for loop for all same color   goti deactivate***************

        for (let index = 0; index < start_goti_point.length; index++) {

          goti_deactive(start_goti_point[index])

        }

        for (let index = 0; index < player_color.length; index++) {

          goti_deactive(player_color[index])
        }
        //end code here this for loop for all same color   goti deactivate***************

        // here dice value reseting 

        dice = 0;
      })



    }

  }

  function event_call_pl(value, player_color, player_start_pos) {

    dice_turn[value].addEventListener('click', (e) => {



      open_player_goti(value, player_color, player_start_pos)


    })

  }

  event_call_pl(0, rgotiimg, 13)
  event_call_pl(1, ggotiimg, 26)
  event_call_pl(2, bgotiimg, 0)
  event_call_pl(3, ygotiimg, 40)

</script>

</html>